load('@io_bazel_rules_scala//scala:scala.bzl', 'scala_binary')
scala_binary(
  name='web',
  srcs=glob(['*.scala']),
  main_class='monarchy.web.WebServer',
  deps=[
    '@maven//:com/typesafe/akka:akka_actor',
    '@maven//:com/typesafe/akka:akka_http',
    '@maven//:com/typesafe/akka:akka_http_core',
    '@maven//:com/typesafe/akka:akka_stream',
    '@maven//:com/github/etaty:rediscala',
    '@maven//:org/reactivestreams:reactive_streams',
    '//server/src/auth',
    '//server/src/controllers',
    '//server/src/dal',
    '//server/src/graphql',
    '//server/src/streaming/core',
    '//server/src/streaming/format',
    '//server/src/streaming/process',
    '//server/src/streaming/topology',
  ]
)
